<!DOCTYPE html>
<meta charset="utf-8">
<title>Time Zone World Map</title>
<style>
.Greens .q0-3{fill:rgb(229,245,224)} .Greens .q1-3{fill:rgb(161,217,155)} .Greens .q2-3{fill:rgb(49,163,84)}
</style>
<body>
	<div id = "map"></div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src='http://d3js.org/queue.v1.min.js'></script>
<link href="d3-geomap/css/d3.geomap.css" rel="stylesheet">
<script src="d3-geomap/vendor/d3.geomap.dependencies.min.js"></script>
<script src="d3-geomap/js/d3.geomap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script type="text/javascript">

var format = function(d) {
	d = d/1000000;
	return d3.format(',.02f')(d)+'M';
}

var map = d3.geomap.choropleth()
.geofile('timezones-topo2.json')
.colors(colorbrewer.YlGnBu[9])
.column('commits')
.format(format)
.legend(true)
.unitId('tz');

d3.json('scm-timezone.json', function(error,data){
	d3.select('#map')
	.datum(data)
	.call(map.draw, map);
})

</script>
</body>
</html>
